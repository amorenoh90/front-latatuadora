<template>
  <require from="./edit.css"></require>
  <div class="user__edit">
    <h1 class="site-title user__edit-title">Editar perfil</h1>
    <div class="user__edit-photo-wrapper cover circle" css="background-image: url(${userData.file ? userData.file.data : userData.image})">
      <input id="user-profile-picture" type="file" accept="image/*" files="on-loaded.bind: onLoaded; file-filter.bind: 'image.*'; on-error.bind: onError; max-file-size.bind: maxFileSize; allow-drop: true">
    </div>
    <label class="golden-text user__edit-photo-label" for="user-profile-picture">Elegir foto</label>
    <section class="user__edit-data">
      <div class="input-wrapper" validation-errors.bind="usernameErrors">
        <img src="/src/assets/images/icons/avatar.svg" alt="Usuario" />
        <input value.bind="userData.username & validate" type="text" class="site-input" placeholder="Elige tu nombre de usuario">
        <div class="input-errors">
          <div class="input-error" repeat.for="errorInfo of usernameErrors">${errorInfo.error.message}</div>
        </div>
      </div>
      <div class="input-wrapper" validation-errors.bind="nameErrors">
        <img src="/src/assets/images/icons/tag.svg" alt="Nombre" />
        <input value.bind="userData.name & validate" type="text" class="site-input" placeholder="Nombre">
        <div class="input-errors">
          <div class="input-error" repeat.for="errorInfo of nameErrors">${errorInfo.error.message}</div>
        </div>
      </div>
      <div class="input-wrapper" validation-errors.bind="emailErrors">
        <img src="/src/assets/images/icons/mail.svg" alt="Email" />
        <input value.bind="userData.email & validate" type="text" class="site-input" placeholder="Correo electrónico">
        <div class="input-errors">
          <div class="input-error" repeat.for="errorInfo of emailErrors">${errorInfo.error.message}</div>
        </div>
      </div>
      <div class="input-wrapper" validation-errors.bind="phoneErrors">
        <img src="/src/assets/images/icons/phone-2.svg" alt="Teléfono" />
        <input value.bind="userData.phone & validate" type="text" class="site-input" placeholder="Teléfono">
        <div class="input-errors">
          <div class="input-error" repeat.for="errorInfo of phoneErrors">${errorInfo.error.message}</div>
        </div>
      </div>
      <span class="user__edit-tattooed-span">¿Estás tatuado?</span>
      <div class="user__edit-tattooed">
        <div class="site-checkbox">
          <input type="radio" name="tattooed" id="user-tattooed-yes">
          <label class="login__input-label-checkbox" for="user-tattooed-yes"><span>Si</span></label>
        </div>
        <div class="site-checkbox">
          <input type="radio" name="tattooed" id="user-tattooed-no">
          <label class="login__input-label-checkbox" for="user-tattooed-no"><span>No</span></label>
        </div>
      </div>
      <button class="site-button user__edit-button">Guardar cambios</button>
    </section>
    <hr class="special-hr user__edit-hr">
    <section class="user__edit-password">
      <h2 class="site-title">Elige tu <span class="golden-text">contraseña</span></h2>
      <div class="input-wrapper" validation-errors.bind="newpassErrors">
        <img src="/src/assets/images/icons/lock.svg" alt="Contraseña" />
        <input value.bind="passwords.new & validate" type="text" class="site-input" placeholder="Contraseña nueva">
        <div class="input-errors">
          <div class="input-error" repeat.for="errorInfo of newpassErrors">${errorInfo.error.message}</div>
        </div>
      </div>
      <div class="input-wrapper" validation-errors.bind="confirmpassErrors">
        <img src="/src/assets/images/icons/lock.svg" alt="Repetir contraseña" />
        <input value.bind="passwords.confirm & validate" type="text" class="site-input" placeholder="Confirmar contraseña nueva">
        <div class="input-errors">
          <div class="input-error" repeat.for="errorInfo of confirmpassErrors">${errorInfo.error.message}</div>
        </div>
      </div>
      <button class="site-button user__edit-button">Guardar cambios</button>
    </section>
  </div>
</template>